<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="./katex-import.html">

<dom-module id="katex-component">
    <style>
        :host {
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
    <template></template>
</dom-module>
<script>
    Polymer({
                is: 'katex-component',
                properties: {
                    value: {
                        type: String,
                        notify: true,
                        reflectToAttribute: true,
                        observer: '_valueChanged'
                    }
                },
                /**
                 * @private
                 */
                _valueChanged: function (value) {
                    this.innerText = '';
                    if (value) {
                        // Updating the rendering zone displayed with KaTex (taking the latex export as an input)
                        try {
                            katex.render(value, this);
                        } catch (e) {
                            this.innerText = value;
                        }
                    }
                }
            }
    );
</script>
